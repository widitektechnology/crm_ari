(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1015:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(9585)}])},2285:function(e,s,a){"use strict";a.d(s,{Z:function(){return S}});var t,i=a(5893),n=a(7294),r=a(1664),l=a.n(r),c=a(1163),d=a(4080),o=a(6125),x=a(2237),m=a(4020),h=a(7543),u=a(5837),g=a(5083),p=a(3658),f=a(7272),j=a(1415);let v=[{name:"Dashboard",href:"/dashboard",icon:x.Z},{name:"Empresas",href:"/companies",icon:m.Z},{name:"Empleados",href:"/employees",icon:h.Z},{name:"Finanzas",href:"/finance",icon:u.Z},{name:"Herramientas IA",href:"/ai",icon:g.Z},{name:"Reportes",href:"/reports",icon:p.Z},{name:"Configuraci\xf3n",href:"/settings",icon:f.Z}];function y(e){let{mobile:s=!1,sidebarOpen:a,setSidebarOpen:t}=e,r=(0,c.useRouter)(),x=()=>(0,i.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-gray-900 px-6 pb-4",children:[(0,i.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,i.jsx)("div",{className:"text-white font-bold text-xl",children:"\uD83D\uDE80 CRM System"})}),(0,i.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,i.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,i.jsx)("li",{children:(0,i.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:v.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)(l(),{href:e.href,className:function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter(Boolean).join(" ")}(r.pathname.startsWith(e.href)||"/dashboard"===e.href&&"/"===r.pathname?"bg-gray-800 text-white":"text-gray-400 hover:text-white hover:bg-gray-800","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[(0,i.jsx)(e.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),e.name]})},e.name))})}),(0,i.jsx)("li",{className:"mt-auto",children:(0,i.jsxs)("div",{className:"text-xs text-gray-400 px-2",children:[(0,i.jsx)("p",{children:"Sistema ERP v1.0.0"}),(0,i.jsx)("p",{children:"ARI Family Assets"})]})})]})})]});return s?(0,i.jsx)(d.u.Root,{show:a,as:n.Fragment,children:(0,i.jsxs)(o.V,{as:"div",className:"relative z-50 lg:hidden",onClose:t,children:[(0,i.jsx)(d.u.Child,{as:n.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-900/80"})}),(0,i.jsx)("div",{className:"fixed inset-0 flex",children:(0,i.jsx)(d.u.Child,{as:n.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,i.jsxs)(o.V.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[(0,i.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:(0,i.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>t(!1),children:[(0,i.jsx)("span",{className:"sr-only",children:"Cerrar sidebar"}),(0,i.jsx)(j.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),(0,i.jsx)(x,{})]})})})]})}):(0,i.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:(0,i.jsx)(x,{})})}var N=a(3407),b=a(4412),w=a(97),k=a(9514);function E(e){let{setSidebarOpen:s}=e,[a,t]=(0,n.useState)("Verificando..."),[r,l]=(0,n.useState)(new Date),[d,o]=(0,n.useState)(null),x=(0,c.useRouter)();return(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&o(JSON.parse(e));let s=setInterval(()=>{l(new Date)},1e3),a=async()=>{try{(await fetch("".concat("https://crm.arifamilyassets.com","/health"))).ok?t("✅ Conectado"):t("❌ Error")}catch(e){t("❌ Desconectado")}};a();let i=setInterval(a,3e4);return()=>{clearInterval(s),clearInterval(i)}},[]),(0,i.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,i.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>s(!0),children:[(0,i.jsx)("span",{className:"sr-only",children:"Abrir sidebar"}),(0,i.jsx)(N.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,i.jsx)("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),(0,i.jsxs)("div",{className:"flex flex-1 justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center gap-x-4 text-sm text-gray-500",children:[(0,i.jsxs)("div",{className:"hidden sm:block",children:["Sistema: ",a]}),(0,i.jsx)("div",{className:"hidden md:block",children:r.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,i.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[(0,i.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",children:[(0,i.jsx)("span",{className:"sr-only",children:"Ver notificaciones"}),(0,i.jsx)(b.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,i.jsx)(w.Z,{className:"h-8 w-8 text-gray-400"}),(0,i.jsxs)("div",{className:"hidden lg:block text-sm",children:[(0,i.jsx)("p",{className:"font-semibold text-gray-900",children:(null==d?void 0:d.name)||"Usuario"}),(0,i.jsx)("p",{className:"text-gray-500",children:(null==d?void 0:d.email)||"email@ejemplo.com"})]})]}),(0,i.jsxs)("button",{type:"button",onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user"),x.push("/auth/login")},className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",title:"Cerrar Sesi\xf3n",children:[(0,i.jsx)("span",{className:"sr-only",children:"Cerrar sesi\xf3n"}),(0,i.jsx)(k.Z,{className:"h-6 w-6","aria-hidden":"true"})]})]})]})]})}var S=(t=function(e){let{children:s}=e,[a,t]=(0,n.useState)(!1);return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)(y,{mobile:!0,sidebarOpen:a,setSidebarOpen:t}),(0,i.jsx)(y,{}),(0,i.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,i.jsx)(E,{setSidebarOpen:t}),(0,i.jsx)("main",{className:"flex-1 pb-8",children:(0,i.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 max-w-7xl mx-auto",children:s})})]})]})},function(e){let[s,a]=(0,n.useState)(!0),[r,l]=(0,n.useState)(!1),d=(0,c.useRouter)();return((0,n.useEffect)(()=>{(()=>{if("true"===localStorage.getItem("isAuthenticated"))l(!0);else{d.push("/auth/login");return}a(!1)})()},[d]),s)?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Verificando autenticaci\xf3n..."})]})}):r?(0,i.jsx)(t,{...e}):null})},9585:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var t=a(5893),i=a(7294),n=a(9008),r=a.n(n),l=a(2285);let c=i.forwardRef(function({title:e,titleId:s,...a},t){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),e?i.createElement("title",{id:s},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}),d=i.forwardRef(function({title:e,titleId:s,...a},t){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),e?i.createElement("title",{id:s},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))});var o=a(7543),x=a(5837),m=a(5083),h=a(4020),u=a(3658);function g(e){let{title:s,value:a,change:i,changeType:n,icon:r,color:l}=e;return(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(r,{className:"h-6 w-6 ".concat(l),"aria-hidden":"true"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:a}),i&&(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold ".concat("increase"===n?"text-green-600":"text-red-600"),children:["increase"===n?(0,t.jsx)(c,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}):(0,t.jsx)(d,{className:"self-center flex-shrink-0 h-4 w-4 text-red-500"}),(0,t.jsxs)("span",{className:"sr-only",children:["increase"===n?"Aument\xf3":"Disminuy\xf3"," en"]}),i]})]})]})})]})})})}function p(){let e=[{id:1,type:"employee",title:"Nuevo empleado registrado",description:"Mar\xeda Garc\xeda se uni\xf3 al equipo de Finanzas",time:"Hace 2 horas",icon:o.Z,iconBackground:"bg-blue-500"},{id:2,type:"invoice",title:"Factura procesada",description:"Factura #2024-001 por €2,500 completada",time:"Hace 4 horas",icon:x.Z,iconBackground:"bg-green-500"},{id:3,type:"ai",title:"Clasificaci\xf3n de emails",description:"25 emails clasificados autom\xe1ticamente",time:"Hace 6 horas",icon:m.Z,iconBackground:"bg-purple-500"},{id:4,type:"company",title:"Nueva empresa registrada",description:"TechCorp S.L. a\xf1adida al sistema",time:"Ayer",icon:h.Z,iconBackground:"bg-orange-500"}];return(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Actividad Reciente"})}),(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"flow-root",children:(0,t.jsx)("ul",{className:"-mb-8",children:e.map((s,a)=>(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"relative pb-8",children:[a!==e.length-1?(0,t.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,(0,t.jsxs)("div",{className:"relative flex space-x-3",children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"".concat(s.iconBackground," h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white"),children:(0,t.jsx)(s.icon,{className:"h-4 w-4 text-white","aria-hidden":"true"})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:s.description})]}),(0,t.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:s.time})]})]})]})},s.id))})})})]})}function f(){let[e,s]=(0,i.useState)({companies:0,employees:0,invoices:0,revenue:0}),[a,n]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{setTimeout(()=>{s({companies:3,employees:12,invoices:45,revenue:125420}),n(!1)},1e3)}catch(e){console.error("Error cargando datos del dashboard:",e),n(!1)}})()},[]);let c=[{title:"Empresas Activas",value:a?"...":e.companies,change:"+2",changeType:"increase",icon:h.Z,color:"text-blue-600"},{title:"Empleados",value:a?"...":e.employees,change:"+3",changeType:"increase",icon:o.Z,color:"text-green-600"},{title:"Facturas este mes",value:a?"...":e.invoices,change:"+12%",changeType:"increase",icon:x.Z,color:"text-purple-600"},{title:"Ingresos (€)",value:a?"...":"€".concat(e.revenue.toLocaleString()),change:"+8%",changeType:"increase",icon:u.Z,color:"text-orange-600"}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:"Dashboard - CRM System"}),(0,t.jsx)("meta",{name:"description",content:"Panel principal del CRM"})]}),(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Resumen general del sistema y m\xe9tricas principales"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:c.map((e,s)=>(0,t.jsx)(g,{title:e.title,value:e.value,change:e.change,changeType:e.changeType,icon:e.icon,color:e.color},s))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(p,{})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Acciones R\xe1pidas"})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-3",children:[(0,t.jsx)("button",{className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"+ Nuevo Empleado"}),(0,t.jsx)("button",{className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"+ Nueva Factura"}),(0,t.jsx)("button",{className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:"\uD83E\uDD16 Clasificar Emails"}),(0,t.jsx)("button",{className:"w-full bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors",children:"+ Nueva Empresa"})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Estado del Sistema"})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Backend API"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-600",children:"✅ Conectado"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Base de Datos"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-600",children:"✅ Funcionando"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"M\xf3dulos IA"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-600",children:"✅ Activos"})]}),(0,t.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["\xdaltima actualizaci\xf3n: ",new Date().toLocaleString("es-ES")]})})]})]})]})]})]})})]})}},9008:function(e,s,a){e.exports=a(4764)}},function(e){e.O(0,[155,774,888,179],function(){return e(e.s=1015)}),_N_E=e.O()}]);