(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{2285:function(e,a,s){"use strict";s.d(a,{Z:function(){return C}});var t,r=s(5893),l=s(7294),n=s(1664),i=s.n(n),c=s(1163),o=s(4080),d=s(6125),x=s(2237),m=s(4020),h=s(7543),u=s(5837),f=s(5083),g=s(3658),p=s(7272),j=s(1415);let v=[{name:"Dashboard",href:"/dashboard",icon:x.Z},{name:"Empresas",href:"/companies",icon:m.Z},{name:"Empleados",href:"/employees",icon:h.Z},{name:"Finanzas",href:"/finance",icon:u.Z},{name:"Herramientas IA",href:"/ai",icon:f.Z},{name:"Reportes",href:"/reports",icon:g.Z},{name:"Configuraci\xf3n",href:"/settings",icon:p.Z}];function y(e){let{mobile:a=!1,sidebarOpen:s,setSidebarOpen:t}=e,n=(0,c.useRouter)(),x=()=>(0,r.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-gray-900 px-6 pb-4",children:[(0,r.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,r.jsx)("div",{className:"text-white font-bold text-xl",children:"\uD83D\uDE80 CRM System"})}),(0,r.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,r.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,r.jsx)("li",{children:(0,r.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:v.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(i(),{href:e.href,className:function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter(Boolean).join(" ")}(n.pathname.startsWith(e.href)||"/dashboard"===e.href&&"/"===n.pathname?"bg-gray-800 text-white":"text-gray-400 hover:text-white hover:bg-gray-800","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[(0,r.jsx)(e.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),e.name]})},e.name))})}),(0,r.jsx)("li",{className:"mt-auto",children:(0,r.jsxs)("div",{className:"text-xs text-gray-400 px-2",children:[(0,r.jsx)("p",{children:"Sistema ERP v1.0.0"}),(0,r.jsx)("p",{children:"ARI Family Assets"})]})})]})})]});return a?(0,r.jsx)(o.u.Root,{show:s,as:l.Fragment,children:(0,r.jsxs)(d.V,{as:"div",className:"relative z-50 lg:hidden",onClose:t,children:[(0,r.jsx)(o.u.Child,{as:l.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-900/80"})}),(0,r.jsx)("div",{className:"fixed inset-0 flex",children:(0,r.jsx)(o.u.Child,{as:l.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,r.jsxs)(d.V.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[(0,r.jsx)(o.u.Child,{as:l.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:(0,r.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>t(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Cerrar sidebar"}),(0,r.jsx)(j.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),(0,r.jsx)(x,{})]})})})]})}):(0,r.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:(0,r.jsx)(x,{})})}var N=s(3407),b=s(4412),w=s(97),k=s(9514);function S(e){let{setSidebarOpen:a}=e,[s,t]=(0,l.useState)("Verificando..."),[n,i]=(0,l.useState)(new Date),[o,d]=(0,l.useState)(null),x=(0,c.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");e&&d(JSON.parse(e));let a=setInterval(()=>{i(new Date)},1e3),s=async()=>{try{(await fetch("".concat("https://crm.arifamilyassets.com","/health"))).ok?t("✅ Conectado"):t("❌ Error")}catch(e){t("❌ Desconectado")}};s();let r=setInterval(s,3e4);return()=>{clearInterval(a),clearInterval(r)}},[]),(0,r.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,r.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>a(!0),children:[(0,r.jsx)("span",{className:"sr-only",children:"Abrir sidebar"}),(0,r.jsx)(N.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,r.jsx)("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),(0,r.jsxs)("div",{className:"flex flex-1 justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-4 text-sm text-gray-500",children:[(0,r.jsxs)("div",{className:"hidden sm:block",children:["Sistema: ",s]}),(0,r.jsx)("div",{className:"hidden md:block",children:n.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[(0,r.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"Ver notificaciones"}),(0,r.jsx)(b.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(w.Z,{className:"h-8 w-8 text-gray-400"}),(0,r.jsxs)("div",{className:"hidden lg:block text-sm",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:(null==o?void 0:o.name)||"Usuario"}),(0,r.jsx)("p",{className:"text-gray-500",children:(null==o?void 0:o.email)||"email@ejemplo.com"})]})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user"),x.push("/auth/login")},className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",title:"Cerrar Sesi\xf3n",children:[(0,r.jsx)("span",{className:"sr-only",children:"Cerrar sesi\xf3n"}),(0,r.jsx)(k.Z,{className:"h-6 w-6","aria-hidden":"true"})]})]})]})]})}var C=(t=function(e){let{children:a}=e,[s,t]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(y,{mobile:!0,sidebarOpen:s,setSidebarOpen:t}),(0,r.jsx)(y,{}),(0,r.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,r.jsx)(S,{setSidebarOpen:t}),(0,r.jsx)("main",{className:"flex-1 pb-8",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 max-w-7xl mx-auto",children:a})})]})]})},function(e){let[a,s]=(0,l.useState)(!0),[n,i]=(0,l.useState)(!1),o=(0,c.useRouter)();return((0,l.useEffect)(()=>{(()=>{if("true"===localStorage.getItem("isAuthenticated"))i(!0);else{o.push("/auth/login");return}s(!1)})()},[o]),a)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Verificando autenticaci\xf3n..."})]})}):n?(0,r.jsx)(t,{...e}):null})},9008:function(e,a,s){e.exports=s(4764)},8680:function(e,a,s){"use strict";var t=s(7294);let r=t.forwardRef(function({title:e,titleId:a,...s},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},s),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});a.Z=r}}]);